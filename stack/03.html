<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>纸牌游戏</title>
	<style type="text/css">
		
		#demo{
			width: 100px;
			height: 100px;
			background: red;
		}
	</style>
</head>
<body>
<div id="demo"></div>
<script type="text/javascript">
	
	function Queue(){
		this.head=0;
		this.tail=0;
		this.data=[]
	}

	function Stack(){
		this.top=0;
		this.data=[];
	}

	var queue1=new Queue()
	var queue2=new Queue()

	var stack=new Stack()

	var arr1=[2,4,1,2,5,6]
	var arr2=[3,1,3,5,6,4]

	for(var i = 0;i < arr1.length; i++){
		queue1.data.push(arr1[i]);
		queue1.tail++;
	}

	for(var i = 0;i < arr2.length; i++){
		queue2.data.push(arr2[i]);
		queue2.tail++;
	}


	function fn(q1,q2,s){
		var book=[],
		t=null;
		for(var i=0;i<10;i++){
			book[i]=0;

		}
		while(q1.head<q1.tail && q2.head<q2.tail){
			t=q1.data[q1.head];
			if(book[t]==0){
				q1.head++;
				s.top++;
				s.data[s.top]=t;
				book[t]=1;
			}else{
				q1.head++;
				q1.data[q1.tail]=t;
				q1.tail++
				while(s.data[s.top]!=t){
					book[s.data[s.top]]=0;
					q1.data[q1.tail]=s.data[s.top]
					q1.tail++
					s.top--
				}
					book[s.data[s.top]]=0;
					q1.data[q1.tail]=s.data[s.top]
					q1.tail++
					s.top--

			}
			if(q1.head==q1.tail)
				break;

			t=q2.data[q2.head];
			if(book[t]==0){
				q2.head++;
				s.top++;
				s.data[s.top]=t;
				book[t]=1;
			}else{
				q2.head++;
				q2.data[q2.tail]=t;
				q2.tail++
				while(s.data[s.top]!=t){
					book[s.data[s.top]]=0;
					q2.data[q2.tail]=s.data[s.top]
					q2.tail++
					s.top--
				}
					book[s.data[s.top]]=0;
					q2.data[q2.tail]=s.data[s.top]
					q2.tail++
					s.top--

			}

		}
		console.log(q1.data.slice(q1.head))
		console.log(q2.data.slice(q2.head))
		// console.log(q2)
	  console.log(s.data)
		console.log(s.data.slice(0,6))
			if(q2.head==q2.tail){
				console.log('q1获胜')
			}else{
				console.log('q2获胜')
			}
	}
	document.getElementById('demo').onclick=function(){
		fn(queue1,queue2,stack)
	}
	
</script>
	
</body>
</html>